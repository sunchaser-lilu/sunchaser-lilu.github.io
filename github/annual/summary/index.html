<html>
<head>
    <meta charset="UTF-8" />
    <title>GitHub年度总结</title>
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/sunchaser-lilu/sunchaser-cdn@master/images/hexo-theme-sunchaser/favicon.ico">
    <link rel="stylesheet" type="text/css" href="https://www.layuicdn.com/layui/css/layui.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
    <meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no'>
    <script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="打工这件小事" type="application/atom+xml">
</head>
<style>
   #github-annual-summary[src=""],#github-annual-summary:not([src]){
      opacity:0;
      width: auto;
      height: auto;
      max-width: 100%;
      max-height: 100%;
   }
</style>
<body>
<div class="layui-container">  
  <div class="layui-row">
    <div class="layui-col-md9" style="text-align: center;line-height: 40px">
      <h3 style="margin: 30px 0 0 0">查收你的2020开源报告</h3>
      <div class="layui-input-inline">
        <input type="text" id="github-id" name="github-id" required  lay-verify="required" placeholder="请输入GitHub用户名" autocomplete="off" class="layui-input">
      </div>
      <button class="layui-btn layui-btn-normal" onclick="get_github()">查看报告</button><br>
      <img style="margin: 10px 0 0 0;" id="github-annual-summary"/>
      <ins class="adsbygoogle" style="display:block;" data-full-width-responsive="true" data-ad-format="auto" data-ad-client="ca-pub-4923931760030983" data-ad-slot="8291512273"></ins><script>(adsbygoogle=window.adsbygoogle || []).push({})</script>
      <h5>©2020 - 2021 By SunChaser</h5>
    </div>
    <div class="layui-col-md3">
      <ins class="adsbygoogle" style="display:block;" data-full-width-responsive="true" data-ad-format="auto" data-ad-client="ca-pub-4923931760030983" data-ad-slot="4292557511"></ins><script>(adsbygoogle=window.adsbygoogle || []).push({})</script>
    </div>
  </div>
</div>
<script src="https://www.layuicdn.com/layui/layui.js"></script>
<script type="text/javascript">
    layui.use('layer', function(){
      var layer = layui.layer;
    });
    function get_github() {
        var github_id = $("#github-id").val();
        var img = $("#github-annual-summary");
        if (github_id === null || github_id === undefined || github_id === '') {
            img.css("width","0");
            img.css("height","0");
            img.attr('src','');
            layer.msg('请输入GitHub用户名');
            return;
        }
        var loadIndex = layer.load(1, {
          shade: [0.1,'#000']
        });
        $.ajax({
            type: "GET",
            url: "http://121.41.7.100:520/github?github_id=" + github_id,
            dataType: "JSON",
            success: function(result) {
                const str = 'http://121.41.7.100:520' + result.img_path.substring(1);
                layer.close(loadIndex);
                img.css("width","730px");
                img.css("height","1280");
                img.attr('src',str);
            }
        });
    }
</script>
</body>
</html>